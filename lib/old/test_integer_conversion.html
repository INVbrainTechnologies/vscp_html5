<!DOCTYPE html>
<meta charset="utf-8" />
<title>VSCP WebSocket authentication test</title>



<script language="javascript" type="text/javascript">

    function vscpws_varInteger2Float( data ) {    
        var rval = 0.0;

        var bNegative = false;
    
        if ( data[0] & 0x80 ) {    
            bNegative = true;
    
            for ( i=0; i<data.length; i++ ) {
                data[i] = ~data[i] & 0xff; 
            }
        }
        
        for (i=0;i<data.length;i++) {
            rval = rval << 8;
            rval += data[i];
        }
            
        if ( bNegative ) {
            rval = -1.0 * (rval + 1);
        }

        console.log( data.length );
        console.log( rval );
        return rval;
    }
    
    var d1 = [0x80,0xff];
    vscpws_varInteger2Float( d1 );

</script>

